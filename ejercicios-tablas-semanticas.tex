%% Copyright 2016 Clea F. Rees
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
%
% The Current Maintainer of this work is Clea F. Rees.
%
% This work consists of all files listed in manifest.txt.
%%
% arara: pdflatex: { synctex: true, shell: false }
% biber --output_format=bibtex --output_resolve prooftrees.bcf to generate .bib for upload
% sed -i '/1977/s/DATE/YEAR
%%
\pdfminorversion=7
\RequirePackage{svn-prov}
\ProvidesFileSVN{$Id: prooftrees.tex 5576 2016-12-06 03:28:22Z cfrees $}[v0.5 \revinfo]
\GetFileInfoSVN*
\let\prooftreesdocversion\fileversion
\let\prooftreesdocbase\filebase
\let\prooftreesdocinfo\fileinfo
\let\prooftreesdocdate\filedate
% BEGIN preamble
\documentclass[10pt,british,a4paper]{ltxdoc}
\usepackage{lplfitch}
\usepackage{babel,geometry,pageslts,fancyhdr}
\usepackage[utf8]{inputenc}
\usepackage{csquotes}
  \MakeAutoQuote{‘}{’}
  \MakeAutoQuote*{“}{”}
\usepackage[rm={lining},sf={lining},tt={tabular,lining,monowidth}]{cfr-lm}
\usepackage{microtype}
\usepackage[section]{placeins}
%\usepackage[citestyle=authoryear-comp,bibstyle=authoryear,mergedate=basic,isbn=false,url=true,sortcites=true,backend=biber,mincrossrefs=6]{biblatex}
% \bibliography{abbrv, authors, journals-series, pub, lleoedd, phil, ref}
\bibliography{prooftrees_biber.bib}% generate for upload (gweler uchod)
\usepackage{etoolbox,verbatim,parskip,changepage,titling,makeidx}
\usepackage[dvipsnames,svgnames,rgb,x11names]{xcolor}
%\usepackage{bussproofs}
\usepackage{prooftrees}
\usepackage{mathtools,turnstile,pifont}
\newcommand*{\fycheck}{\text{\ding{52}}}
\newcommand*{\fycross}{\text{\ding{56}}}
\usetikzlibrary{decorations.pathreplacing,arrows.meta,positioning,calc,arrows.meta,fit,backgrounds,tikzmark}
\tikzset{%
  nodiad/.style={text=#1, draw=#1, font=\footnotesize\scshape, align=left, shorten >=-1.5pt, shorten <=-1.5pt, {Circle[width=3pt, length=3pt, fill=#1]}-{Circle[width=3pt, length=3pt, fill=#1]}, fill=none},
  grwp/.style={fill opacity=.25, fill=#1, rounded corners, draw=#1},
  post grwp/.style={fill=white, postaction={fill opacity=.25, fill=#1}, draw=#1, rounded corners},
}
\forestset{%
  nyth/.style n args=3{%
    tikz+={%
      \pgfmathsetmacro\lliw{#2*100/14}
      \scoped[on background layer]\node [fit=(.west) (.east) (!F) (!L) (!1) (!11) (!l) (!ll) #1 (#3#2.center), inner xsep=28-2*#2 pt, inner ysep=0pt, draw=WildStrawberry!\lliw!blue, rounded corners] {};
    },
  },
}
\usepackage{tcolorbox}
\tcbuselibrary{listings,xparse,breakable}% if you use skins, you need to disable externalisation for boxes which use the relevant options - gweler nodiadau/tex/tex.se/tcolorbox-coursepacket-exp.tex
\usepackage[%
  loadHyperref=true,
  createIndexEntries=false,
]{doctools}
\usepackage{cleveref}
\makeatletter
\renewcommand*\Describe@Macro[1]{\endgroup
  \marginpar{%
    \raggedleft\PrintDescribeMacro{#1}\par
    \PrintLabelName[\macrolabelfont]{\macrolabelname}%
  }%
  \expandafter\prooftrees@index{\macrolabelname}{\protect\verb \protect #1}\@esphack\ignorespaces}
\renewcommand*\Describe@Env[1]{\endgroup
  \marginpar{%
    \raggedleft\PrintDescribeMacro{#1}\par
    \PrintLabelName[\macrolabelfont]{\envlabelname}%
  }%
  \expandafter\prooftrees@index{\envlabelname}{#1}\@esphack\ignorespaces}
\newcommand*\DescribeKey{\leavevmode\@bsphack
  \begingroup\MakePrivateLetters\Describe@Key}
\newcommand*\Describe@Key[2][key]{\endgroup
  \marginpar{%
    \raggedleft\PrintDescribeMacro{#2}\par
    \PrintLabelName[\macrolabelfont]{\csname #1labelname\endcsname}%
  }%
  \edef\tempa{\csname #1labelname\endcsname}%
  \expandafter\prooftrees@index{\tempa}{#2}\@esphack\ignorespaces}
\newcommand*\DescribeKeys{\leavevmode\@bsphack
  \begingroup\MakePrivateLetters\Describe@Keys}
\newif\ifcyntafun
\newcommand*\Describe@Keys[2][key]{\endgroup
  \renewcommand*\do[1]{\ifcyntafun ##1\else\\##1\fi\cyntafunfalse}%
  \cyntafuntrue
  \marginpar{%
    \raggedleft\PrintDescribeMacro{ % peid â dileu'r gwagle hwn!!
      \expandafter\docsvlist{#2}%
    }\par
    \PrintLabelName[\macrolabelfont]{\csname #1labelname\endcsname}%
  }%
  \edef\tempa{\csname #1labelname\endcsname}%
  \renewcommand*\do[1]{\expandafter\prooftrees@index{\tempa}{##1}}%
  \expandafter\docsvlist{#2}\@esphack\ignorespaces}
\def\get@first#1,#2\@null{#1}
\def\get@rest#1,#2\@null{#2}
\newcommand*\vals[1]{%
  \edef\tempa{\expandafter\get@first #1\@null}%
  \edef\tempb{\expandafter\get@rest #1\@null}%
  \renewcommand*\do[1]{\textbar ##1}%
  {\ttfamily = \tempa
    \expandafter\docsvlist{\tempb}%
  }%
}
\newcommand*\val[1]{{\ttfamily = \meta{#1}}}
\newcommand*\valmarg[1]{{\ttfamily = \marg{#1}}}
\newcommand*\pkg[1]{\textsf{#1}}
\DeclareRobustCommand\macrolabelfont{\normalfont\footnotesize\em\normalcolor}
\newcommand*\macrolabelname{macro}
\newcommand*\PrintLabelName[2][\normalfont\normalsize\normalcolor]{#1#2}
\newcommand*\envlabelname{environment}
\newcommand*\keylabelname{key}
\newcommand*\fkeylistlabelname{Forest keylist}
\newcommand*\fregkeylistlabelname{Forest keylist register}
\newcommand*\foptkeylistlabelname{Forest keylist option}
\newcommand*\freglabelname{Forest register}
\newcommand*\foptlabelname{Forest option}
\newcommand*\fregdimlabelname{Forest dimension register}
\newcommand*\fregcountlabelname{Forest count register}
\newcommand*\fregtokslabelname{Forest toks register}
\newcommand*\fopttokslabelname{Forest toks option}
\newcommand*\fregboollabelname{Forest boolean register}
\newcommand*\foptboollabelname{Forest boolean option}
\newcommand*\fregautotokslabelname{Forest autowrapped toks register}
\newcommand*\foptautotokslabelname{Forest autowrapped toks option}
\newcommand*\fstylelabelname{Forest style}
\let\PrintDescribeKey\PrintDescribeMacro
\newcommand*\keyval[1]{\texttt{#1}}
\NewDocumentCommand\keyname { s O {key} m }{%
  \texttt{#3}%
  \IfBooleanTF {#1}{}{%
    \edef\tempa{\csname #2labelname\endcsname}%
    \expandafter\prooftrees@index{\tempa}{#3}%
  }%
}
\def\prooftrees@index#1#2{%
  \index{\doctools@indexHeadFont{#1s}!#2}%
}
\renewenvironment{theindex}
{%
  \twocolumn[\section*{\indexname}
    \emph{%
      Features are sorted by kind.
      Page references are given for both definitions and comments on use.}\bigskip
  ]%
  \markboth{\indexname}%
  {\indexname}%
  \pagestyle{fancyplain}%
  \thispagestyle{plain}%
  \parindent\z@
  \parskip\z@ \@plus .3\p@\relax
  \let\item\@idxitem}
{}
\makeatother
\lstdefinestyle{lstcoeden}{% modified from style used by doctools.sty for the latexcode environment
  style=lstDocStyleBase,
  numbers=none,
  stringstyle=\color{doc@stringcolor},
  keywordstyle=\color{doc@keywordcolor},
  commentstyle=\color{doc@commentcolor},
  frame=none,
}
\geometry{headheight=12pt,marginparwidth=45mm,hmarginratio=4:1,vscale=.8,hscale=.7,verbose}
\newlength\tewadjust
\setlength\tewadjust{\marginparwidth+\marginparsep-\paperwidth+\textwidth+\oddsidemargin+1in}
\tcbset{%
  coeden/.style={
    colback=doc@demo@backcolor,
    colframe=doc@rulecolor,
    halign=center,
    fonttitle=\sffamily\plstyle\bfseries,
    sharpish corners,
    list entry={\protect\numberline{\thetcbcounter\textbar}#1},
    title={\fbox{\plstyle\thetcbcounter}\hskip 1.5em #1},
    float,
    floatplacement={!tbp},
  },
  coeden dew/.style={
    coeden=#1,
    grow to left by=\tewadjust,
  },
  cod coeden/.style={
    coeden=#1,
    listing style=lstcoeden,
  },
  cod coeden dew/.style={
    cod coeden=#1,
    grow to left by=\tewadjust,
  },
  every float=\centering,
}
\NewTColorBox[auto counter, crefname={box}{boxes}, Crefname={Box}{Boxes},]{coeden}{s O {} m }
{%
  IfBooleanTF={#1}{coeden dew=#3}{coeden=#3},
  #2,
}
\NewTCBListing[use counter from=coeden, crefname={box}{boxes}, Crefname={Box}{Boxes}]{codcoeden}{ s O {} m }
{%
  IfBooleanTF={#1}{cod coeden dew=#3}{cod coeden=#3},
  listing side text,
  halign lower=center,
  #2,
}
\NewTCBListing[use counter from=coeden, crefname={box}{boxes}, Crefname={Box}{Boxes}]{codcoedenhir}{ s O {} m }
{%
  IfBooleanTF={#1}{cod coeden dew=#3}{cod coeden=#3},
  listing above text,
  halign lower=center,
  #2,
}
\newcommand*{\tnot}{\ensuremath{\mathord{\sim}}}
%\newcommand*{\lif}{\ensuremath{\mathbin{\rightarrow}}}
%\newcommand*{\liff}{\ensuremath{\mathbin{\leftrightarrow}}}
\DeclareMathSymbol{\aand}{\mathbin}{operators}{38}
\newcommand*\TikZ{Ti\emph{k}Z}
%\newcommand*{\elim}{\,\text{E}}
\newcommand*\wff{\emph{wff}}
\newcounter{lliw}
\setcounter{lliw}{0}
\newcounter{rhiflliwnyth}
\setcounter{rhiflliwnyth}{0}
\def\rhiflliw{14}
\colorlet{fylliw}{WildStrawberry!\rhiflliw!blue}
\NewDocumentCommand\nyth { s o }{%
  \IfBooleanTF {#1}{%
    \stepcounter{lliw}%
  }{}%
  \IfValueTF {#2}{%
    \setcounter{rhiflliwnyth}{#2}%
  }{%
    \setcounter{rhiflliwnyth}{\value{lliw}}%
  }%
  \pgfmathsetmacro\rhiflliw{int(\value{rhiflliwnyth}*100/14)}%
  \colorlet{fylliw}{WildStrawberry!\rhiflliw!blue}%
  \tikz[baseline=(a.base)]{%
    \node (a) [circle, fill=fylliw, inner sep=0pt, font=\sffamily, text width=12pt, text depth=0pt, text centered, text=white] {\arabic{rhiflliwnyth}};
  }%
}
\NewDocumentCommand\bocsnyth { O {} }{%
  \tikz[baseline=(a.base)]{\node (a) [rounded corners, draw=fylliw, text width=15pt, text height=10pt, inner sep=0pt] {#1};
  }%
}
\renewcommand\maketitlehookb{%
  \begin{center}
    Version \prooftreesdocversion{} \prooftreesdocinfo
  \end{center}%
}
\pagestyle{fancy}
\fancyhf{}
\fancyhf[lh]{\textit{\leftmark}}
\fancyhf[rh]{\textit{\rightmark}}
\fancyhf[cf]{\textit{--- \thepage{} of \lastpageref*{LastPage} ---}}
\fancypagestyle{fancyplain}{%
  \fancyhf{}%
  \fancyhf[lh]{\textit{\leftmark}}%
  \renewcommand*\headrulewidth{0pt}%
  \fancyhf[cf]{\textit{--- \thepage{} of \lastpageref*{LastPage} ---}}}
\fancypagestyle{plain}{%
  \fancyhf{}%
  \renewcommand*\headrulewidth{0pt}%
  \fancyhf[cf]{\textit{--- \thepage{} of \lastpageref*{LastPage} ---}}}
\patchcmd{\sectionmark}{\MakeUppercase}{}{\typeout{sectionmark patched OK!}}{\typeout{sectionmark patch failed!}}
\patchcmd{\tableofcontents}{\MakeUppercase}{}{\typeout{sectionmark patched OK!}}{\typeout{sectionmark patch failed!}}
\patchcmd{\tableofcontents}{\MakeUppercase\contentsname}{}{\typeout{sectionmark patched OK!}}{\typeout{sectionmark patch failed!}}

\newcommand\vver[1]{\textcolor{red}{\textit{#1 }}}
%\newcommand\vver[1]{\textcolor{blue}{\textbf{#1}}}

\begin{document}

% \begin{prooftree}
% {
%   to prove={(A \vee B) \lif (A \wedge B), A \vee B \sststile{}{} A \wedge B}
% }
%   [P \vee (Q \vee \lnot R), just=Ass
%     [P \lif \lnot R, just=Ass
%       [Q \lif \lnot R, just=Ass, name=last premise
%         [\lnot\lnot R, just={$\lnot$ Conc}, name=not conc
%           [P, just={$\vee$ Elim:!uuuu}
%             [\lnot P, close={:!u,!c}]
%             [\lnot R, close={:not conc,!c}, just={$\lif$ Elim:!uuuu}]
%           ]
%           [Q \vee \lnot R
%             [Q, move by=1
%               [\lnot Q, close={:!u,!c}]
%               [\lnot R, close={:not conc,!c}, just={$\lif$ Elim:last premise}]
%             ]
%             [\lnot R, close={:not conc,!c}, move by=1, just={$\vee$ Elim:!u}]
%           ]
%         ]
%       ]
%     ]
%   ]
% \end{prooftree}


% $(A \lor B) \lif (A \land B) \newline$
% $A \lor B \newline$
% $\therefore A \land B$

% \begin{itemize}
% \item
\begin{prooftree}
{
  to prove={(A \vee B) \lif (A \wedge B), A \vee B \sststile{}{} A \wedge B}
}
  [\vver{v} (A \vee B) \lif (A \wedge B), just=Premisa, name=p1
    [\vver{v} A \vee B, just=Premisa
        [\vver{f} A \wedge B, just=Conclusión
          [\vver{f} A \vee B, just={VI:p1}, close]
          [\vver{v} A \wedge B, close]
        ]
      ]
    ]
  ]
\end{prooftree}

% $(C \land D) \lif (C \land D) \newline$
% $C \land D \newline$
% $\therefore C \lor D$

% \item
\begin{prooftree}
  {
    to prove={(C \vee D) \lif (C \wedge D), C \wedge D \sststile{}{} C \vee D}
  }
  [\vver{v} (C \vee D) \lif (C \wedge D), just=Premisa, name=p1
    [\vver{v} C \wedge D , just=Premisa, name=p2
      [\vver{f} C \vee D , just=Conclusión, name=conc
        [\vver{f} C \vee D , just=VI:p1, name=via
          [\vver{f} C , just=FD:via
            [\vver{f} D , just=FD:via
              [\vver{v} C , just=VC:p2
                [\vver{v} D, close, just=VC:p2]
              ]
            ]
          ]
        ]
        [\vver{v} C \wedge D, just=VI:p1, name=vic
          [\vver{v} C, just=VC:vic
            [\vver{v} D, just=VC:vic
              [\vver{f} C, just=FD:conc
                [\vver{f} D, close, just=FD:conc]
              ]
            ]
          ]
        ]
      ]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={E \lif F, F \lif E \sststile{}{} E \vee V}
  }
  [\vver{v} E \lif F, name=prem1
    [\vver{v} F \lif E, name=prem2
      [\vver{f} E \vee V, name=conc
        [\vver{f} E, just=FD:conc, name=fdconc
          [\vver{f} F, just=FD:conc
            [\vver{f} F, just=VI:prem2, name=viprem2
              [\vver{f} E, just=VI:prem1]
              [\vver{v} F, close={:viprem2,!c}, just=VI:prem1]
            ]
            [\vver{v} E, close={:fdconc,!c}, just=VI:prem2]
          ]
        ]
      ]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={(G \vee H) \lif (G \wedge H), \lnot (G \wedge H) \sststile{}{} \lnot (G \vee H)}
  }
  [\vver{v} (G \vee H) \lif (G \wedge H), name=prem1
    [\vver{v} \lnot (G \wedge H), name=prem2
      [\vver{f} \lnot (G \vee H), name=conc
        [\vver{f} (G \wedge H), just=NG:prem2, name=negprem2
          [\vver{v} (G \vee H), just=NG:conc, name=negcon
            [\vver{f} (G \vee H), just=VI:prem1, close={:negcon,!c}]
            [\vver{v} (G \wedge H), just=VI:prem1, close={:negprem2,!c}]
          ]
        ]
      ]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={(I \vee J) \lif (I \wedge J), \lnot(I \vee J) \sststile{}{} \lnot (I \wedge J)}
  }
  [\vver{v} (I \vee J) \lif (I \wedge J), name=prem1
    [\vver{v} \lnot(I \vee J), name=prem2
      [\vver{f} \lnot (I \wedge J), name=conc
        [\vver{f} I \vee J, name=ngprem1, just=NG:prem2
          [\vver{v} I \wedge J, name=ngconc, just=NG:conc
            [\vver{f} I, just=FD:ngprem1, name=faldisant
              [\vver{f} J, just=FD:ngprem1, name=faldiscon
                [\vver{v} I, just=VC:ngconc, close={:faldisant,!c}
                  [\vver{v} J, just=VC:ngconc, close={:faldiscon,!c}
                    % [\vver{f} I \vee J, name=viprem1ant, just=VI:prem1
                    %   [\vver{f} I, just=FD:viprem1ant
                    %     [\vver{f} J, just=FD:viprem1ant, close={,!c}]
                    %   ]
                    % ]
                    % [\vver{v} I \wedge J, name=viprem1con, just=VI:prem1
                    %   [\vver{v} I, just=VC:viprem1con
                    %     [\vver{v} J, just=VC:viprem1con, close={,!c}]
                    %   ]
                    % ]
                  ]
                ]
              ]
            ]
          ]
        ]
      ]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={K \vee L, K \sststile{}{} \lnot L }
  }
  [\vver{v} K \vee L, name=prem1, just=Premisa
    [\vver{v} K, name=prem2, just=Premisa
      [\vver{f} \lnot L, name=conc, just=Conclusión]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={M \vee (N \wedge \lnot N), M \sststile{}{} \lnot(N \wedge \lnot N)}
  }
  [\vver{v} M \vee (N \wedge \lnot N), name=prem1, just=Premisa
    [\vver{v} M, name=prem2,just=Premisa
      [\vver{f} \lnot (N \wedge \lnot N), name=conc,just=Conclusión]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={(O \vee P) \lif Q, Q \lif (O \wedge P) \sststile{}{} (O \vee P) \lif (O \wedge P)}
  }
  [\vver{v} (O \vee P) \lif Q, name=prem1,just=Premisa
    [\vver{v} Q \lif (O \wedge P), name=prem2,just=Premisa
      [\vver{f} (O \vee P) \lif (O \wedge P), name=conc,just=Conclusión]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={(R \vee S) \lif T, T \lif (R \wedge S) \sststile{}{} (R \wedge S) \lif (R \vee S)}
  }
  [\vver{v} (R \vee S) \lif T, name=prem1,just=Premisa
    [\vver{v} T \lif (R \wedge S), name=prem2,just=Premisa
      [\vver{f} (R \wedge S) \lif (R \vee S), name=conc,just=Conclusión]
    ]
  ]
\end{prooftree}

% \item
\begin{prooftree}
  {
    to prove={U \lif (V \vee W), (V \wedge W) \lif \lnot U \sststile{}{} \lnot U}
  }
  [\vver{v} U \lif (V \vee W), name=prem1,just=Premisa
    [\vver{v} (V \wedge W) \lif \lnot U, name=prem2,just=Premisa
      [\vver{f} \lnot U, name=conc,just=Conclusión]
    ]
  ]
\end{prooftree}

% \item
% \begin{prooftree}
%   {
%     to prove={ \lif , \lif \sststile{}{} \vee }
%   }
  % [\vver{v} , name=prem1,just=Premisa
  %   [\vver{v} , name=prem2,just=Premisa
  %     [\vver{f} , name=conc,just=Conclusión]
  %   ]
  % ]
% \end{prooftree}


% \end{itemize}

\end{document}
